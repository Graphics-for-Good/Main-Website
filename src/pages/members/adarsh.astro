---
import defaultBio from './defaultBio.js'

const userData = {
  username: 'adarsh', 
  name: 'Adarsh Kumar <span id="tag">(Website Manager/Designer)</span>',
  pronunciation: false, //'Uh-da-r-sh',
  email: {
    g4g: true,
    dtech: {
      year: 25,
    },
  }, 
  pfp: {
    url: `/assets/members/adarsh/pfps/pfp.png`, 
    g4g: {
      sizes: [
        {
          ext: 'png',
          name: 'full', 
      }, 
      ],
    },
    google: 'AEdFTp7icI4wRK0FPsc17CnhxoQslGk8Pj8cUQo8a6S80w',
  },
  location: {
    city: 'Bay Area', 
    state: '',
  }, 
  bio: {
    w1: 'the',
    w2: 'for',
  }, 
  socials: [
    {
      url: 'https://RockGamerAK.com', 
      name: 'Website', 
    }, 
    {
      url: 'https://youtube.com/@RockGamerHub', 
      name: 'YouTube', 
    }, 
    {
      url: 'https://instagram.com/RockGamerAK', 
      name: 'Instagram', 
    }, 
    {
      url: 'https://threads.net/@RockGamerAK', 
      name: 'Threads', 
    }, 
    {
      url: 'https://X.com/@RockGamerAK', 
      name: 'Twitter', 
    }, 
    {
      url: 'https://tiktok.com/@RockGamerAK', 
      name: 'TikTok', 
    }, 
    {
      url: 'https://twitch.tv/RockGamerAK', 
      name: 'Twitch', 
    }, 
    {
      url: 'https://kick.com/RockGamerAK', 
      name: 'Kick', 
    }, 
    {
      url: 'https://discord.com/users/768273827549282305', 
      name: 'Discord'
    }, 
    {
      url: 'https://instagram.com/W.Web.Wizards', 
      name: 'Instagram', 
    }, 
    {
      url: 'W_Web_Wizards', 
      name: 'Twitter', 
    }, 
    {
      url: 'https://instagram.com/akumarrws', 
      name: 'Instagram', 
    }, 
    {
      url: 'https://threads.net/@akumarrws', 
      name: 'Threads', 
    }, 
    {
      url: 'https://instagram.com/akumar.transit', 
      name: 'Instagram', 
    }, 
    {
      url: 'https://instagram.com/akumar.photos', 
      name: 'Instagram', 
    }, 
    {
      url: 'https://X.com/akumarrws', 
      name: 'Twitter', 
    }, 
    {
      url: 'https://youtube.com/akumarrws', 
      name: 'YouTube', 
    }, 
    {
      url: 'https://tiktok.com/akumarrws', 
      name: 'TikTok', 
    }, 
    {
      url: 'https://discord.com/users/1097241365198409728', 
      name: 'Instagram', 
    }, 
  ],
  portfolio: [
    {
      img: {
        element: 'img',
        path: 'IMG_4052.png'
      },
      capt: '<a href="https://parks.RockGamerAK.com">A website</a> that I made promoting saving parks!',
      desc: `Made by: <a href="/members/adarsh">Adarsh</a>`,
    },
    {
      img: {
        element: 'img',
        path: 'IMG_4069.png',
      },
      capt: '<a href="https://rockgamerak.wixsite.com/games/jeopardy">A Jeopardy! Game</a> that I made!',
      desc: `Made by: <a href="/members/adarsh">Adarsh</a>`,
    }
  ],
}

userData.nameNoTitle = userData.name
if (userData.nameNoTitle.includes('<')) {
  userData.nameNoTitle = userData.nameNoTitle.split('<')[0]
}

if (!!userData.email.g4g) {
  userData.email.address = `${userData.username}@graphics-for-good.com`
}
else {
  let uName = userData.name
  if (uName.includes('<')) {
    uName = uName.split('<')[0]
  }
  uName = uName.split(' ')
  userData.email.address = `${uName[0].split('')[0]}${uName[1]}${userData.email.dtech.year}`
}

userData.location.combined = `${userData.location.city}, ${userData.location.state}<BLAHBLAH>`
  .replace(', <BLAHBLAH>', '').replace('<BLAHBLAH>', '')

userData.location.mapLink = userData.location.combined
while (userData.location.mapLink.includes(' ')) {
  userData.location.mapLink = userData.location.mapLink.replace(' ', '+')
}
userData.location.mapLink = `https://www.google.com/maps/place/${userData.location.mapLink}`

userData.socials.forEach(function(social, i) {
  userData.socials[i].icon = `/assets/icons/${social.name.toLowerCase()}.svg`
})

if (!!userData.bio) {
  if (!!userData.bio.w1 && !!userData.bio.w2) {
    userData.bio.result = defaultBio(userData.name, userData.bio.w1, userData.bio.w2)
  }
  else if (!!userData.bio.w1) {
    userData.bio.result = defaultBio(userData.name, userData.bio.w1)
  }
  else if (!!userData.bio.w2) {
    userData.bio.result = defaultBio(userData.name, false, userData.bio.w2)
  }
  else {
    userData.bio.result = defaultBio(userData.name)
  }
}
else {
  userData.bio = {}
  userData.bio.result = defaultBio(userData.name)
}

import Layout from '../../layouts/Layout.astro'

import '../../styles/pages/members.scss'
import '../../styles/photos.scss'
---
<Layout title="Members">
  <section id="content"></section>
  <main id="profile" class="profile">
    <section>
      <span id="pfp" style={`background-image: url('${userData.pfp.url}')`}></span>
      <h1 id="name">{userData.nameNoTitle}</h1>
      <a id="email" href={`mailto:${userData.email.address}`}>{userData.email.address}</a>
      <a id="location" href={userData.location.mapLink}>
        <div></div>
        <span>{userData.location.combined}</span>
      </a>
      <ul id="socials">
        {userData.socials.map((social) => (
          <li>
            <a href={social.url} target="_blank" style={`background-image: url('${social.icon}')`}></a>
          </li>
        ))}
      </ul>
      <p id="bio" set:html={userData.bio.result}></p>
    </section>
  </main>
  <script is:inline>
    var isBeta = !!localStorage.getItem('isBeta')
    var hasAddedMemberInfo = false
    if (isBeta) hasAddedMemberInfo = true
  </script>
  <script is:inline src="/members.js"></script>
  <script is:inline src="/modal.js"></script>
</Layout>