---
var usernames = []

await fetch(`https://database.graphics-for-good.com/getUsernames`)
    .then(res => res.json())
    .then(json => usernames = json.response)

var paths = []
usernames.forEach(function(u, i) {
    paths.push({params: {username: u}})
})

export function getStaticPaths() {
    return [
        {params: {username: 'adarsh'}}, 
        {params: {username: 'amelia'}}, 
        {params: {username: 'beatriz'}}, 
        {params: {username: 'bridget'}}, 
        {params: {username: 'cedrus'}}, 
        {params: {username: 'chloe'}}, 
        {params: {username: 'esha'}}, 
        {params: {username: 'hanlin'}}, 
        {params: {username: 'isabelle'}}, 
        {params: {username: 'jeremy'}}, 
        {params: {username: 'lorelai'}}, 
        {params: {username: 'luce'}}, 
        {params: {username: 'mia'}}, 
        {params: {username: 'robin'}}, 
        {params: {username: 'samantha'}}, 
        {params: {username: 'sayuri'}}, 
        {params: {username: 'shikha'}}, 

        {params: {username: 'juhi'}}, 
        {params: {username: 'rien'}}, 
        {params: {username: 'sam'}}, 
    ];
}

const { username } = Astro.params;

import MemberPageTemplate from '../../components/memberPageTemplate.astro'

var userData = {}

await fetch(`https://database.graphics-for-good.com/getMemberInfo?username=${username}`)
    .then(res => res.json())
    .then(json => userData = json.response)

import Layout from '../../layouts/Layout.astro'

import '../../styles/pages/members.scss'
import '../../styles/photos.scss'
---
<MemberPageTemplate userData={userData} />